<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Trang Quản Trị</title>

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
      :root {
        --primary-color: #2a5298;
        --secondary-color: #198a7b;
        --accent-color: #4d8dff;
        --dark-bg: #1a1a2e;
        --medium-bg: #16213e;
        --light-bg: #0f3460;
        --text-light: #e1e1e6;
        --text-dim: #b8b8c3;
        --glow: 0 0 10px rgba(77, 141, 255, 0.6);
        --success-color: #4CAF50;
        --warning-color: #ff9800;
        --error-color: #f44336;
      }
      
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: 'Montserrat', sans-serif;
        background: var(--dark-bg);
        color: var(--text-light);
        margin: 0;
        padding: 0;
        background-image: linear-gradient(135deg, var(--dark-bg) 0%, var(--medium-bg) 100%);
        background-attachment: fixed;
        min-height: 100vh;
      }
      
      .text-center {
        text-align: center;
      }
      
      /* Header */
      .header {
        background: var(--medium-bg);
        padding: 20px 0;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        position: relative;
        overflow: hidden;
        margin-bottom: 30px;
      }
      
      .header::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(77, 141, 255, 0.1) 0%, rgba(26, 26, 46, 0) 70%);
        z-index: 0;
      }
      
      .header h1 {
        font-weight: 600;
        margin: 0;
        padding: 10px;
        background: linear-gradient(90deg, #ffffff, #4d8dff);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        position: relative;
        z-index: 1;
        font-size: 2.2rem;
        text-transform: uppercase;
        letter-spacing: 1px;
      }
      
      /* Sidebar */
      .admin-container {
        display: flex;
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 20px;
      }
      
      .sidebar {
        width: 280px;
        background: var(--medium-bg);
        border-radius: 10px;
        padding: 25px;
        margin-right: 30px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        border: 1px solid rgba(77, 141, 255, 0.1);
        position: sticky;
        top: 30px;
        height: calc(100vh - 150px);
        overflow-y: auto;
      }
      
      .sidebar-header {
        margin-bottom: 30px;
        padding-bottom: 15px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }
      
      .sidebar-title {
        font-size: 1.2rem;
        color: var(--accent-color);
        margin-bottom: 10px;
        font-weight: 600;
      }
      
      .account-info {
        background: rgba(255, 255, 255, 0.05);
        padding: 15px;
        border-radius: 8px;
        font-family: monospace;
        word-break: break-all;
        font-size: 0.85rem;
        border-left: 3px solid var(--accent-color);
      }
      
      .nav-menu {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      
      .nav-item {
        margin-bottom: 10px;
      }
      
      .nav-link {
        display: flex;
        align-items: center;
        padding: 12px 15px;
        border-radius: 8px;
        color: var(--text-light);
        text-decoration: none;
        transition: all 0.3s;
        font-weight: 500;
      }
      
      .nav-link:hover, .nav-link.active {
        background: rgba(77, 141, 255, 0.1);
        color: var(--accent-color);
      }
      
      .nav-link i {
        margin-right: 10px;
        font-size: 1.2rem;
        color: var(--accent-color);
        width: 24px;
        text-align: center;
      }
      
      .btn-account {
        width: 100%;
        padding: 12px;
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 0.9rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-top: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      
      .btn-account i {
        margin-right: 8px;
      }
      
      .btn-account:hover {
        transform: translateY(-3px);
        box-shadow: 0 7px 20px rgba(25, 138, 123, 0.3);
      }
      
      /* Main Content */
      .main-content {
        flex: 1;
      }
      
      .card {
        background: var(--medium-bg);
        border-radius: 10px;
        padding: 25px;
        margin-bottom: 30px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        border: 1px solid rgba(77, 141, 255, 0.1);
        position: relative;
        overflow: hidden;
      }
      
      .card::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, var(--secondary-color), var(--accent-color));
      }
      
      .card-header {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }
      
      .card-icon {
        width: 40px;
        height: 40px;
        border-radius: 10px;
        background: rgba(77, 141, 255, 0.1);
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 15px;
      }
      
      .card-icon i {
        font-size: 1.5rem;
        color: var(--accent-color);
      }
      
      .card-title {
        color: var(--accent-color);
        font-size: 1.5rem;
        font-weight: 600;
        margin: 0;
        letter-spacing: 0.5px;
      }
      
      .form-group {
        margin-bottom: 20px;
      }
      
      .form-row {
        display: flex;
        flex-wrap: wrap;
        margin: 0 -10px;
      }
      
      .form-col {
        flex: 1;
        padding: 0 10px;
        min-width: 200px;
      }
      
      .form-label {
        display: block;
        margin-bottom: 8px;
        font-size: 0.9rem;
        color: var(--text-dim);
        font-weight: 500;
      }
      
      .form-control {
        width: 100%;
        padding: 12px 15px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        background: rgba(255, 255, 255, 0.05);
        color: var(--text-light);
        font-size: 1rem;
        transition: all 0.3s;
        font-family: 'Montserrat', sans-serif;
      }
      
      .form-control:focus {
        outline: none;
        border-color: var(--accent-color);
        box-shadow: var(--glow);
      }
      
      .btn {
        padding: 12px 25px;
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }
      
      .btn i {
        margin-right: 8px;
      }
      
      .btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 7px 20px rgba(25, 138, 123, 0.3);
      }
      
      .btn-block {
        width: 100%;
      }
      
      /* Status Messages */
      .status-message {
        padding: 15px;
        border-radius: 8px;
        margin-top: 15px;
        font-weight: 500;
        display: flex;
        align-items: center;
      }
      
      /* Đảm bảo hiển thị đúng phần tử #Aday */
      #Aday {
        margin-top: 15px;
        padding: 15px;
        border-radius: 8px;
        font-weight: 500;
        text-align: center;
        width: 100%;
      }
      
      #Aday p {
        margin: 0;
        padding: 0;
      }
      
      #Aday.visible {
        display: block !important;
      }
      
      .status-message i {
        margin-right: 10px;
        font-size: 1.2rem;
      }
      
      .status-success {
        background: rgba(76, 175, 80, 0.1);
        color: var(--success-color);
        border-left: 3px solid var(--success-color);
      }
      
      .status-warning {
        background: rgba(255, 152, 0, 0.1);
        color: var(--warning-color);
        border-left: 3px solid var(--warning-color);
      }
      
      .status-error {
        background: rgba(244, 67, 54, 0.1);
        color: var(--error-color);
        border-left: 3px solid var(--error-color);
      }
      
      /* Stats Cards */
      .stats-container {
        display: flex;
        flex-wrap: wrap;
        margin: 0 -10px 30px;
      }
      
      .stat-card {
        flex: 1;
        min-width: 200px;
        background: var(--medium-bg);
        border-radius: 10px;
        padding: 20px;
        margin: 0 10px 20px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        border: 1px solid rgba(77, 141, 255, 0.1);
        display: flex;
        align-items: center;
      }
      
      .stat-icon {
        width: 50px;
        height: 50px;
        border-radius: 10px;
        background: rgba(77, 141, 255, 0.1);
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 15px;
      }
      
      .stat-icon i {
        font-size: 1.8rem;
        color: var(--accent-color);
      }
      
      .stat-info {
        flex: 1;
      }
      
      .stat-value {
        font-size: 1.8rem;
        font-weight: 700;
        margin-bottom: 5px;
      }
      
      .stat-label {
        font-size: 0.9rem;
        color: var(--text-dim);
      }
      
      /* Responsive */
      @media (max-width: 992px) {
        .admin-container {
          flex-direction: column;
        }
        
        .sidebar {
          width: 100%;
          margin-right: 0;
          margin-bottom: 30px;
          height: auto;
          position: static;
        }
        
        .nav-menu {
          display: flex;
          flex-wrap: wrap;
        }
        
        .nav-item {
          margin-right: 10px;
        }
      }
      
      @media (max-width: 768px) {
        .form-row {
          flex-direction: column;
        }
        
        .form-col {
          margin-bottom: 15px;
        }
        
        .stats-container {
          flex-direction: column;
        }
        
        .stat-card {
          width: calc(100% - 20px);
        }
      }
    </style>
  </head>
  <body>
    <div class="header text-center">
      <h1>Hệ Thống Bỏ Phiếu Phi Tập Trung Trên Blockchain Ethereum</h1>
    </div>

    <div class="admin-container">
      <!-- Sidebar -->
      <div class="sidebar">
        <div class="sidebar-header">
          <div class="sidebar-title">Thông Tin Tài Khoản</div>
          <div class="account-info" id="accountAddress"></div>
          <button id="switchAccount" class="btn-account">
            <i class="fas fa-exchange-alt"></i> Chọn Lại Tài Khoản
          </button>
        </div>
        
        <ul class="nav-menu">
          <li class="nav-item">
            <a href="#" class="nav-link active" data-section="dashboard">
              <i class="fas fa-tachometer-alt"></i> Tổng Quan
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link" data-section="candidates">
              <i class="fas fa-user-tie"></i> Quản Lý Ứng Cử Viên
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link" data-section="voting-dates">
              <i class="fas fa-calendar-alt"></i> Thiết Lập Thời Gian
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link" data-section="results">
              <i class="fas fa-chart-bar"></i> Kết Quả Bỏ Phiếu
            </a>
          </li>
          <li class="nav-item">
            <a href="index.html" class="nav-link">
              <i class="fas fa-vote-yea"></i> Trang Bỏ Phiếu
            </a>
          </li>
        </ul>
      </div>
      
      <!-- Main Content -->
      <div class="main-content">
        <!-- Dashboard Section -->
        <div class="content-section" id="dashboard-section">
          <div class="stats-container">
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-users"></i>
              </div>
              <div class="stat-info">
                <div class="stat-value" id="totalCandidates">0</div>
                <div class="stat-label">Tổng Số Ứng Cử Viên</div>
              </div>
            </div>
            
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-vote-yea"></i>
              </div>
              <div class="stat-info">
                <div class="stat-value" id="totalVotes">0</div>
                <div class="stat-label">Tổng Số Phiếu Bầu</div>
              </div>
            </div>
            
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-clock"></i>
              </div>
              <div class="stat-info">
                <div class="stat-value" id="votingStatus">Chưa Bắt Đầu</div>
                <div class="stat-label">Trạng Thái Bỏ Phiếu</div>
              </div>
            </div>
          </div>
          
          <div class="card">
            <div class="card-header">
              <div class="card-icon">
                <i class="fas fa-info-circle"></i>
              </div>
              <h2 class="card-title">Thông Tin Cuộc Bỏ Phiếu</h2>
            </div>
            
            <div class="voting-info">
              <p><strong>Thời Gian Bỏ Phiếu:</strong> <span id="votingDates">Chưa thiết lập</span></p>
              <p><strong>Địa Chỉ Hợp Đồng:</strong> <span id="contractAddress">Đang tải...</span></p>
              <p><strong>Trạng Thái Hiện Tại:</strong> <span id="currentStatus">Đang tải...</span></p>
            </div>
          </div>
        </div>
        
        <!-- Candidates Section -->
        <div class="content-section" id="candidates-section" style="display: none;">
          <div class="card">
            <div class="card-header">
              <div class="card-icon">
                <i class="fas fa-user-plus"></i>
              </div>
              <h2 class="card-title">Thêm Ứng Cử Viên</h2>
            </div>
            
            <form id="addCandidateForm">
              <div class="form-row">
                <div class="form-col">
                  <div class="form-group">
                    <label class="form-label" for="name">Họ và tên</label>
                    <input id="name" type="text" class="form-control" name="name" placeholder="Nhập tên ứng cử viên" autocomplete="off">
                  </div>
                </div>
                
                <div class="form-col">
                  <div class="form-group">
                    <label class="form-label" for="party">Đảng phái</label>
                    <input id="party" type="text" class="form-control" name="party" placeholder="Nhập đảng phái ứng cử viên">
                  </div>
                </div>
              </div>
              
              <div class="text-center">
                <button type="button" id="addCandidate" class="btn">
                  <i class="fas fa-plus-circle"></i> Thêm Ứng Cử Viên
                </button>
              </div>
              
              <div id="Aday" class="status-message" style="display: none;"></div>
            </form>
          </div>
          
          <div class="card">
            <div class="card-header">
              <div class="card-icon">
                <i class="fas fa-list"></i>
              </div>
              <h2 class="card-title">Danh Sách Ứng Cử Viên</h2>
            </div>
            
            <div class="candidate-list" id="candidateList">
              <p class="text-center">Đang tải danh sách ứng cử viên...</p>
            </div>
          </div>
        </div>
        
        <!-- Voting Dates Section -->
        <div class="content-section" id="voting-dates-section" style="display: none;">
          <div class="card">
            <div class="card-header">
              <div class="card-icon">
                <i class="fas fa-calendar-alt"></i>
              </div>
              <h2 class="card-title">Thiết Lập Thời Gian Bỏ Phiếu</h2>
            </div>
            
            <form id="setDatesForm">
              <div class="form-row">
                <div class="form-col">
                  <div class="form-group">
                    <label class="form-label" for="startDate">Ngày bắt đầu</label>
                    <input id="startDate" type="date" class="form-control" name="startDate">
                  </div>
                </div>
                
                <div class="form-col">
                  <div class="form-group">
                    <label class="form-label" for="endDate">Ngày kết thúc</label>
                    <input id="endDate" type="date" class="form-control" name="endDate">
                  </div>
                </div>
              </div>
              
              <div class="text-center">
                <button type="button" id="addDate" class="btn">
                  <i class="fas fa-save"></i> Thiết Lập Thời Gian
                </button>
              </div>
              
              <div id="dates" class="status-message" style="display: none;"></div>
            </form>
          </div>
          
          <div class="card">
            <div class="card-header">
              <div class="card-icon">
                <i class="fas fa-info-circle"></i>
              </div>
              <h2 class="card-title">Thông Tin Thời Gian Hiện Tại</h2>
            </div>
            
            <div class="current-dates">
              <p><strong>Thời Gian Bỏ Phiếu Hiện Tại:</strong> <span id="currentDates">Chưa thiết lập</span></p>
              <p><strong>Trạng Thái:</strong> <span id="datesStatus">Chưa thiết lập</span></p>
            </div>
          </div>
    </div>

        <!-- Results Section -->
        <div class="content-section" id="results-section" style="display: none;">
          <div class="card">
            <div class="card-header">
              <div class="card-icon">
                <i class="fas fa-chart-bar"></i>
              </div>
              <h2 class="card-title">Kết Quả Bỏ Phiếu</h2>
            </div>

            <div class="results-container" id="resultsContainer">
              <p class="text-center">Đang tải kết quả bỏ phiếu...</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
    <script>
      // Navigation
      document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', function(e) {
          if (this.getAttribute('href') === '#') {
            e.preventDefault();
            
            // Remove active class from all links
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            
            // Add active class to clicked link
            this.classList.add('active');
            
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
              section.style.display = 'none';
            });
            
            // Show selected section
            const sectionId = this.getAttribute('data-section') + '-section';
            document.getElementById(sectionId).style.display = 'block';
          }
        });
      });
      
      // Format status messages
      function showStatusMessage(elementId, message, type) {
        const element = document.getElementById(elementId);
        element.className = 'status-message';
        element.classList.add('status-' + type);
        
        let icon = '';
        switch(type) {
          case 'success':
            icon = '<i class="fas fa-check-circle"></i>';
            break;
          case 'warning':
            icon = '<i class="fas fa-exclamation-triangle"></i>';
            break;
          case 'error':
            icon = '<i class="fas fa-times-circle"></i>';
            break;
        }
        
        element.innerHTML = icon + message;
        element.style.display = 'flex';
      }
    </script>
  </body>
</html>
